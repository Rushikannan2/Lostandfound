FROM mongo:7.0

# Set environment variables
ENV MONGO_INITDB_ROOT_USERNAME=admin
ENV MONGO_INITDB_ROOT_PASSWORD=password
ENV MONGO_INITDB_DATABASE=lostandfound

# Create database and user
RUN mongosh --eval "db = db.getSiblingDB('lostandfound'); db.createUser({user: 'lostandfound_user', pwd: 'lostandfound_pass', roles: [{role: 'readWrite', db: 'lostandfound'}]})"

EXPOSE 27017
